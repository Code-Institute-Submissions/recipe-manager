{% extends 'base.html' %}
{% block content %}
    <ul class="collapsible">
        {% for recipe in recipes %}
        <li class="recipe-item">
            <div class="collapsible-header">
                <div class="col s3">
                    <i class="material-icons">expand_more</i>
                    <a href="{{url_for('viewRecipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn-small orange">View</a>
                    <a href="{{url_for('editRecipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn btn-small blue">Edit</a>
                </div>
                <div class="recipe-title-header col s9 right-align">
                    <strong>{{recipe.recipe_title}}</strong>
                </div>
            </div>
            <div class="collapsible-body">
                <p><strong>Author:</strong> {{recipe.recipe_author}}</p>
                <p><strong>Category:</strong> {{recipe.category_name}}</p>
                <p><strong>Description:</strong> {{recipe.recipe_description}}</p>
                <p><strong>Time:</strong> {{recipe.recipe_duration}}</p>
                <p><strong>Views:</strong> {{recipe.recipe_views}}</p>
                {% if recipe.containsAllergens %}
                <p><strong>Allergens:</strong> {{recipe.recipe_allergens}}</p>
                {% endif %}
            </div>
        </li>
        {% endfor %}
    </ul>
    <div class="row center-align">
        <a href="{{url_for('addRecipe')}}" class="waves-effect waves-light btn purple">Add New Recipe
            <i class="material-icons right">playlist_add</i>
        </a>
    </div>
    <!-- Begin Pagination -->
    <div class="row" id="pag-container">
        <ul class="pagination">
            <li class="waves-effect" id="pag-left"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
            <li class="waves-effect pag-item active"><a>1</a></li>
            <li class="waves-effect" id="pag-right"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
        </ul>
    </div>
    <!-- End Pagination -->
{% endblock %}
{% block js %}
<!-- Load our Pagination JS -->
<script src="{{url_for('static', filename='js/pagination.js')}}"></script>
<script>
    $(document).ready(function(){
        // Materilize CSS- collapsible element
        $('.collapsible').collapsible();
    });
</script>
{% endblock%}